<mat-chip-list #chipList>
  <mat-chip *ngFor="let item of selectedItems" [selectable]="selectable" [removable]="removable">
    {{ item.item }}
    <mat-icon matChipRemove *ngIf="removable" (click)="toggleSelection(item)">cancel</mat-icon>
  </mat-chip>
  <input #input #inputTrigger matInput
  type="text"
  placeholder="{{placeholder}}"
  [matAutocomplete]="autoComplete"
  [formControl]="itemControl"
  [matChipInputFor]="chipList"
  [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
  (matChipInputTokenEnd)="add($event)">
</mat-chip-list>
<mat-autocomplete #autoComplete="matAutocomplete">
  <mat-option *ngFor="let item of filteredItems" [value]="selectedItems">
    <div (click)="optionClicked($event, item);">
      <mat-checkbox [checked]="item.selected" (change)="toggleSelection(item)" (click)="$event.stopPropagation()">
        {{ item.item }}
      </mat-checkbox>
    </div>
  </mat-option>
</mat-autocomplete>